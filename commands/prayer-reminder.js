const { EmbedBuilder, ActionRowBuilder, StringSelectMenuBuilder } = require('discord.js');
const { Coordinates, CalculationMethod, PrayerTimes, Prayer, Qibla } = require('adhan');
const moment = require('moment-timezone');
const fs = require('fs');
const path = require('path');
const colorManager = require('../utils/colorManager.js');
const { isUserBlocked } = require('./block.js');

const name = 'pr';

// Ù…Ø³Ø§Ø± Ù…Ù„Ù Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ°ÙƒÙŠØ±
const PRAYER_CONFIG_PATH = path.join(__dirname, '..', 'data', 'prayerConfig.json');

// Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„ÙˆØ§Øª Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ
const PRAYER_NAMES = {
    'fajr': 'Ø§Ù„ÙØ¬Ø±',
    'sunrise': 'Ø§Ù„Ø´Ø±ÙˆÙ‚',
    'dhuhr': 'Ø§Ù„Ø¸Ù‡Ø±',
    'asr': 'Ø§Ù„Ø¹ØµØ±',
    'maghrib': 'Ø§Ù„Ù…ØºØ±Ø¨',
    'isha': 'Ø§Ù„Ø¹Ø´Ø§Ø¡'
};

// Ø§Ù„ØµÙ„ÙˆØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ø§Ù„ØªØ°ÙƒÙŠØ± Ø¨Ù‡Ø§ ÙÙ‚Ø·
const REMINDER_PRAYERS = ['dhuhr', 'asr', 'maghrib', 'isha', 'fajr'];

// ØªØ®Ø²ÙŠÙ† Ø¢Ø®Ø± ØªØ°ÙƒÙŠØ± ØªÙ… Ø¥Ø±Ø³Ø§Ù„Ù‡ Ù„ÙƒÙ„ ØµÙ„Ø§Ø© ÙˆÙ„Ù…Ù†Ø¹ Ø§Ù„ØªÙƒØ±Ø§Ø±
let lastReminderSent = {};

// Ø¢ÙŠØ§Øª Ù‚Ø±Ø¢Ù†ÙŠØ© ÙˆØ£Ø¯Ø¹ÙŠØ© Ù…Ø®ØªØ§Ø±Ø© ÙˆÙ…ÙˆØ³Ø¹Ø© Ø¬Ø¯Ø§Ù‹
const QURAN_VERSES = [
    { text: 'ÙˆÙÙ‚ÙÙ„ Ø±ÙÙ‘Ø¨ÙÙ‘ Ø²ÙØ¯Û¡Ù†ÙÙŠ Ø¹ÙÙ„Û¡Ù…Ù—Ø§', reference: 'Ø³ÙˆØ±Ø© Ø·Ù‡ - Ø¢ÙŠØ© 114' },
    { text: 'Ø±ÙØ¨ÙÙ‘Ù†Ø§ Ø¢ØªÙÙ†ÙØ§ ÙÙÙŠ Ø§Ù„Ø¯ÙÙ‘Ù†Û¡ÙŠÙØ§ Ø­ÙØ³ÙÙ†ÙØ©Ù— ÙˆÙÙÙÙŠ Ù±Ù„Û¡Ø£Ù“Ø®ÙØ±ÙØ©Ù Ø­ÙØ³ÙÙ†ÙØ©Ù— ÙˆÙÙ‚ÙÙ†ÙØ§ Ø¹ÙØ°ÙØ§Ø¨Ù Ù±Ù„Ù†ÙÙ‘Ø§Ø±Ù', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø© - Ø¢ÙŠØ© 201' },
    { text: 'Ø±ÙØ¨ÙÙ‘ Ù±Ø´Û¡Ø±ÙØ­Û¡ Ù„ÙÙŠ ØµÙØ¯Û¡Ø±ÙÙŠ ÙˆÙÙŠÙØ³ÙÙ‘Ø±Û¡ Ù„ÙÙŠÙ“ Ø£ÙÙ…Û¡Ø±ÙÙŠ', reference: 'Ø³ÙˆØ±Ø© Ø·Ù‡ - Ø¢ÙŠØ© 25-26' },
    { text: 'ÙˆÙÙ…ÙÙ† ÙŠÙØªÙÙ‘Ù‚Ù Ù±Ù„Ù„ÙÙ‘Ù‡Ù ÙŠÙØ¬Û¡Ø¹ÙÙ„ Ù„ÙÙ‘Ù‡ÙÛ¥ Ù…ÙØ®Û¡Ø±ÙØ¬Ù—Ø§ ÙˆÙÙŠÙØ±Û¡Ø²ÙÙ‚Û¡Ù‡Ù Ù…ÙÙ†Û¡ Ø­ÙÙŠÛ¡Ø«Ù Ù„ÙØ§ ÙŠÙØ­Û¡ØªÙØ³ÙØ¨Ù', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø·Ù„Ø§Ù‚ - Ø¢ÙŠØ© 2-3' },
    { text: 'ÙÙØ¥ÙÙ†ÙÙ‘ Ù…ÙØ¹Ù Ù±Ù„Û¡Ø¹ÙØ³Û¡Ø±Ù ÙŠÙØ³Û¡Ø±Ù‹Ø§ Ø¥ÙÙ†ÙÙ‘ Ù…ÙØ¹Ù Ù±Ù„Û¡Ø¹ÙØ³Û¡Ø±Ù ÙŠÙØ³Û¡Ø±Ù—Ø§', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø´Ø±Ø­ - Ø¢ÙŠØ© 5-6' },
    { text: 'ÙˆÙÙ±ØµÛ¡Ø¨ÙØ±Û¡ ÙˆÙÙ…ÙØ§ ØµÙØ¨Û¡Ø±ÙÙƒÙ Ø¥ÙÙ„ÙÙ‘Ø§ Ø¨ÙÙ±Ù„Ù„ÙÙ‘Ù‡Ù', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ù†Ø­Ù„ - Ø¢ÙŠØ© 127' },
    { text: 'Ø­ÙØ³Û¡Ø¨ÙÙ†ÙØ§ Ù±Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙÙ†ÙØ¹Û¡Ù…Ù Ù±Ù„Û¡ÙˆÙÙƒÙÙŠÙ„Ù', reference: 'Ø³ÙˆØ±Ø© Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù† - Ø¢ÙŠØ© 173' },
    { text: 'Ø±ÙØ¨ÙÙ‘Ù†ÙØ§ Ù„ÙØ§ ØªÙØ¤ÙØ§Ø®ÙØ°Û¡Ù†ÙØ¢ Ø¥ÙÙ† Ù†ÙÙ‘Ø³ÙÙŠÙ†ÙØ¢ Ø£ÙÙˆÛ¡ Ø£ÙØ®Û¡Ø·ÙØ£Û¡Ù†ÙØ§', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø© - Ø¢ÙŠØ© 286' },
    { text: 'ÙˆÙØ¥ÙØ°ÙØ§ Ø³ÙØ£ÙÙ„ÙÙƒÙ Ø¹ÙØ¨ÙØ§Ø¯ÙÙŠ Ø¹ÙÙ†ÙÙ‘ÙŠ ÙÙØ¥ÙÙ†ÙÙ‘ÙŠ Ù‚ÙØ±ÙÙŠØ¨ÙŒ', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø© - Ø¢ÙŠØ© 186' },
    { text: 'Ø±ÙØ¨ÙÙ‘Ù†ÙØ§ Ù±ØºÛ¡ÙÙØ±Û¡ Ù„ÙÙ†ÙØ§ Ø°ÙÙ†ÙÙˆØ¨ÙÙ†ÙØ§ ÙˆÙØ¥ÙØ³Û¡Ø±ÙØ§ÙÙÙ†ÙØ§ ÙÙÙŠÙ“ Ø£ÙÙ…Û¡Ø±ÙÙ†ÙØ§', reference: 'Ø³ÙˆØ±Ø© Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù† - Ø¢ÙŠØ© 147' },
    { text: 'Ø¥ÙÙ†ÙÙ‘ Ù±Ù„Ù„ÙÙ‘Ù‡Ù Ù…ÙØ¹Ù Ù±Ù„ØµÙÙ‘Ù°Ø¨ÙØ±ÙÙŠÙ†Ù', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø© - Ø¢ÙŠØ© 153' },
    { text: 'ÙˆÙÙ„ÙØ§ ØªÙÙŠÛ¡Ù€ÙÙ”Ø³ÙÙˆØ§Ù’ Ù…ÙÙ† Ø±ÙÙ‘ÙˆÛ¡Ø­Ù Ù±Ù„Ù„ÙÙ‘Ù‡Ù', reference: 'Ø³ÙˆØ±Ø© ÙŠÙˆØ³Ù - Ø¢ÙŠØ© 87' },
    { text: 'ÙÙÙ±Ø°Û¡ÙƒÙØ±ÙÙˆÙ†ÙÙŠÙ“ Ø£ÙØ°Û¡ÙƒÙØ±Û¡ÙƒÙÙ…Û¡ ÙˆÙÙ±Ø´Û¡ÙƒÙØ±ÙÙˆØ§Ù’ Ù„ÙÙŠ ÙˆÙÙ„ÙØ§ ØªÙÙƒÛ¡ÙÙØ±ÙÙˆÙ†Ù', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø© - Ø¢ÙŠØ© 152' },
    { text: 'ÙˆÙÙ‡ÙÙˆÙ Ù…ÙØ¹ÙÙƒÙÙ…Û¡ Ø£ÙÙŠÛ¡Ù†Ù Ù…ÙØ§ ÙƒÙÙ†ØªÙÙ…Û¡', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø­Ø¯ÙŠØ¯ - Ø¢ÙŠØ© 4' },
    { text: 'Ø¥ÙÙ†ÙÙ‘ Ù±Ù„Ù„ÙÙ‘Ù‡Ù Ù„ÙØ§ ÙŠÙØ¶ÙÙŠØ¹Ù Ø£ÙØ¬Û¡Ø±Ù Ù±Ù„Û¡Ù…ÙØ­Û¡Ø³ÙÙ†ÙÙŠÙ†Ù', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„ØªÙˆØ¨Ø© - Ø¢ÙŠØ© 120' },
    { text: 'ÙˆÙÙ…ÙØ§ ØªÙÙˆÛ¡ÙÙÙŠÙ‚ÙÙŠÙ“ Ø¥ÙÙ„ÙÙ‘Ø§ Ø¨ÙÙ±Ù„Ù„ÙÙ‘Ù‡Ù', reference: 'Ø³ÙˆØ±Ø© Ù‡ÙˆØ¯ - Ø¢ÙŠØ© 88' },
    { text: 'ÙÙØ¨ÙÙ…ÙØ§ Ø±ÙØ­Û¡Ù…ÙØ©Ù– Ù…ÙÙ‘Ù†Ù Ù±Ù„Ù„ÙÙ‘Ù‡Ù Ù„ÙÙ†ØªÙ Ù„ÙÙ‡ÙÙ…Û¡', reference: 'Ø³ÙˆØ±Ø© Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù† - Ø¢ÙŠØ© 159' },
    { text: 'ÙˆÙÙ„ÙØ°ÙÙƒÛ¡Ø±Ù Ù±Ù„Ù„ÙÙ‘Ù‡Ù Ø£ÙÙƒÛ¡Ø¨ÙØ±Ù', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØª - Ø¢ÙŠØ© 45' },
    { text: 'Ø±ÙØ¨ÙÙ‘Ù†ÙØ§ ÙˆÙÙ„ÙØ§ ØªÙØ­ÙÙ…ÙÙ‘Ù„Û¡Ù†ÙØ§ Ù…ÙØ§ Ù„ÙØ§ Ø·ÙØ§Ù‚ÙØ©Ù Ù„ÙÙ†ÙØ§ Ø¨ÙÙ‡ÙÛ¦', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø© - Ø¢ÙŠØ© 286' },
    { text: 'ÙˆÙÙ…ÙÙ† ÙŠÙØªÙÙˆÙÙƒÙÙ‘Ù„Û¡ Ø¹ÙÙ„ÙÙ‰ Ù±Ù„Ù„ÙÙ‘Ù‡Ù ÙÙÙ‡ÙÙˆÙ Ø­ÙØ³Û¡Ø¨ÙÙ‡ÙÛ¥Ù“', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø·Ù„Ø§Ù‚ - Ø¢ÙŠØ© 3' },
    { text: 'Ø±ÙØ¨ÙÙ‘Ù†ÙØ§ Ù‡ÙØ¨Û¡ Ù„ÙÙ†ÙØ§ Ù…ÙÙ†Û¡ Ø£ÙØ²Û¡ÙˆÙÙ°Ø¬ÙÙ†ÙØ§ ÙˆÙØ°ÙØ±ÙÙ‘ÙŠÙÙ‘Ù°ØªÙÙ†ÙØ§ Ù‚ÙØ±ÙÙ‘Ø©Ù Ø£ÙØ¹Û¡ÙŠÙÙ†Ù–', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„ÙØ±Ù‚Ø§Ù† - Ø¢ÙŠØ© 74' },
    { text: 'ÙˆÙÙ±Ù„Ù„ÙÙ‘Ù‡Ù Ø®ÙÙŠÛ¡Ø±Ù Ø­ÙÙ°ÙÙØ¸Ù—Ø§ ÙˆÙÙ‡Ùˆ Ø£ÙØ±Û¡Ø­ÙÙ…Ù Ù±Ù„Ø±ÙÙ‘Ù°Ø­ÙÙ…ÙÙŠÙ†Ù', reference: 'Ø³ÙˆØ±Ø© ÙŠÙˆØ³Ù - Ø¢ÙŠØ© 64' },
    { text: 'Ù‚ÙÙ„Û¡ Ø¥ÙÙ†ÙÙ‘ ØµÙÙ„ÙØ§ØªÙÙŠ ÙˆÙÙ†ÙØ³ÙÙƒÙÙŠ ÙˆÙÙ…ÙØ­Û¡ÙŠÙØ§ÙŠÙ ÙˆÙÙ…ÙÙ…ÙØ§ØªÙÙŠ Ù„ÙÙ„ÙÙ‘Ù‡Ù Ø±ÙØ¨ÙÙ‘ Ù±Ù„Û¡Ø¹ÙÙ°Ù„ÙÙ…ÙÙŠÙ†Ù', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø£Ù†Ø¹Ø§Ù… - Ø¢ÙŠØ© 162' },
    { text: 'Ø±ÙØ¨ÙÙ‘Ù†ÙØ§ Ø¹ÙÙ„ÙÙŠÛ¡ÙƒÙ ØªÙÙˆÙÙƒÙÙ‘Ù„Û¡Ù†ÙØ§ ÙˆÙØ¥ÙÙ„ÙÙŠÛ¡ÙƒÙ Ø£ÙÙ†ÙØ¨Û¡Ù†ÙØ§ ÙˆÙØ¥ÙÙ„ÙÙŠÛ¡ÙƒÙ Ù±Ù„Û¡Ù…ÙØµÙÙŠØ±Ù', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù…ØªØ­Ù†Ø© - Ø¢ÙŠØ© 4' },
    { text: 'ÙˆÙÙ±Ø§Ø¹Û¡Ù„ÙÙ…ÙÙˆÙ“Ø§Ù’ Ø£ÙÙ†ÙÙ‘ Ù±Ù„Ù„ÙÙ‘Ù‡Ù ÙŠÙØ­ÙÙˆÙ„Ù Ø¨ÙÙŠÛ¡Ù†Ù Ù±Ù„Û¡Ù…ÙØ±Û¡Ø¡Ù ÙˆÙÙ‚ÙÙ„Û¡Ø¨ÙÙ‡ÙÛ¦', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø£Ù†ÙØ§Ù„ - Ø¢ÙŠØ© 24' },
    { text: 'Ø¥ÙÙ†ÙÙ‘Ù…ÙØ§ ÙŠÙÙˆÙÙÙÙ‘Ù‰ Ù±Ù„ØµÙÙ‘Ù°Ø¨ÙØ±ÙÙˆÙ†Ù Ø£ÙØ¬Û¡Ø±ÙÙ‡ÙÙ… Ø¨ÙØºÙÙŠÛ¡Ø±Ù Ø­ÙØ³ÙØ§Ø¨Ù–', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø²Ù…Ø± - Ø¢ÙŠØ© 10' },
    { text: 'ÙˆÙÙ±Ø³Û¡ØªÙØ¹ÙÙŠÙ†ÙÙˆØ§Ù’ Ø¨ÙÙ±Ù„ØµÙÙ‘Ø¨Û¡Ø±Ù ÙˆÙÙ±Ù„ØµÙÙ‘Ù„ÙÙˆÙ°Ø©Ù', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø© - Ø¢ÙŠØ© 45' },
    { text: 'Ø¥ÙÙ†ÙÙ‘ Ø±ÙØ­Û¡Ù…ÙØªÙ Ù±Ù„Ù„ÙÙ‘Ù‡Ù Ù‚ÙØ±ÙÙŠØ¨Ù Ù…ÙÙ‘Ù†Ù Ù±Ù„Û¡Ù…ÙØ­Û¡Ø³ÙÙ†ÙÙŠÙ†Ù', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø£Ø¹Ø±Ø§Ù - Ø¢ÙŠØ© 56' },
    { text: 'ÙˆÙÙ„ÙÙ‚ÙØ¯Û¡ ÙŠÙØ³ÙÙ‘Ø±Û¡Ù†ÙØ§ Ù±Ù„Û¡Ù‚ÙØ±Û¡Ø¡ÙØ§Ù†Ù Ù„ÙÙ„Ø°ÙÙ‘ÙƒÛ¡Ø±Ù ÙÙÙ‡ÙÙ„Û¡ Ù…ÙÙ† Ù…ÙÙ‘Ø¯ÙÙ‘ÙƒÙØ±Ù–', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ù‚Ù…Ø± - Ø¢ÙŠØ© 17' },
    { text: 'ÙˆÙÙ…ÙØ¢ Ø£ÙØ±Û¡Ø³ÙÙ„Û¡Ù†ÙÙ°ÙƒÙ Ø¥ÙÙ„ÙÙ‘Ø§ Ø±ÙØ­Û¡Ù…ÙØ©Ù— Ù„ÙÙ‘Ù„Û¡Ø¹ÙÙ°Ù„ÙÙ…ÙÙŠÙ†Ù', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡ - Ø¢ÙŠØ© 107' },
    { text: 'ÙŠÙÙ°Ù“Ø£ÙÙŠÙÙ‘Ù‡ÙØ§ Ù±Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù Ø¡ÙØ§Ù…ÙÙ†ÙÙˆØ§Ù’ Ù±Ø³Û¡ØªÙØ¬ÙÙŠØ¨ÙÙˆØ§Ù’ Ù„ÙÙ„ÙÙ‘Ù‡Ù ÙˆÙÙ„ÙÙ„Ø±ÙÙ‘Ø³ÙÙˆÙ„Ù Ø¥ÙØ°ÙØ§ Ø¯ÙØ¹ÙØ§ÙƒÙÙ…Û¡', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø£Ù†ÙØ§Ù„ - Ø¢ÙŠØ© 24' },
    { text: 'ÙˆÙÙ„ÙØ§ ØªÙÙ‚Û¡Ù†ÙØ·ÙÙˆØ§Ù’ Ù…ÙÙ† Ø±ÙÙ‘ÙˆÛ¡Ø­Ù Ù±Ù„Ù„ÙÙ‘Ù‡Ù', reference: 'Ø³ÙˆØ±Ø© ÙŠÙˆØ³Ù - Ø¢ÙŠØ© 87' },
    { text: 'Ø£ÙÙ„ÙÙŠÛ¡Ø³Ù Ù±Ù„Ù„ÙÙ‘Ù‡Ù Ø¨ÙÙƒÙØ§ÙÙ Ø¹ÙØ¨Û¡Ø¯ÙÙ‡ÙÛ¥', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø²Ù…Ø± - Ø¢ÙŠØ© 36' },
    { text: 'ÙˆÙÙ±Ù„Ù„ÙÙ‘Ù‡Ù ØºÙØ§Ù„ÙØ¨ÙŒ Ø¹ÙÙ„ÙÙ‰Ù°Ù“ Ø£ÙÙ…Û¡Ø±ÙÙ‡ÙÛ¦ ÙˆÙÙ„ÙÙ°ÙƒÙÙ†ÙÙ‘ Ø£ÙÙƒÛ¡Ø«ÙØ±Ù Ù±Ù„Ù†ÙÙ‘Ø§Ø³Ù Ù„ÙØ§ ÙŠÙØ¹Û¡Ù„ÙÙ…ÙÙˆÙ†Ù', reference: 'Ø³ÙˆØ±Ø© ÙŠÙˆØ³Ù - Ø¢ÙŠØ© 21' },
    { text: 'Ø±ÙØ¨ÙÙ‘Ù†ÙØ§ Ù„ÙØ§ ØªÙØ²ÙØºÛ¡ Ù‚ÙÙ„ÙÙˆØ¨ÙÙ†ÙØ§ Ø¨ÙØ¹Û¡Ø¯Ù Ø¥ÙØ°Û¡ Ù‡ÙØ¯ÙÙŠÛ¡ØªÙÙ†ÙØ§ ÙˆÙÙ‡ÙØ¨Û¡ Ù„ÙÙ†ÙØ§ Ù…ÙÙ† Ù„ÙÙ‘Ø¯ÙÙ†ÙƒÙ Ø±ÙØ­Û¡Ù…ÙØ©Ù‹', reference: 'Ø³ÙˆØ±Ø© Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù† - Ø¢ÙŠØ© 8' },
    { text: 'ÙˆÙÙ‚ÙÙ„ Ø±ÙÙ‘Ø¨ÙÙ‘ Ø£ÙØ¯Û¡Ø®ÙÙ„Û¡Ù†ÙÙŠ Ù…ÙØ¯Û¡Ø®ÙÙ„Ù ØµÙØ¯Û¡Ù‚Ù– ÙˆÙØ£ÙØ®Û¡Ø±ÙØ¬Û¡Ù†ÙÙŠ Ù…ÙØ®Û¡Ø±ÙØ¬Ù ØµÙØ¯Û¡Ù‚Ù–', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø¥Ø³Ø±Ø§Ø¡ - Ø¢ÙŠØ© 80' },
    { text: 'Ù„ÙØ§ Ø¥ÙÙƒÛ¡Ø±ÙØ§Ù‡Ù ÙÙÙŠ Ù±Ù„Ø¯ÙÙ‘ÙŠÙ†Ù Ù‚ÙØ¯ ØªÙÙ‘Ø¨ÙÙŠÙÙ‘Ù†Ù Ù±Ù„Ø±ÙÙ‘Ø´Û¡Ø¯Ù Ù…ÙÙ†Ù Ù±Ù„Û¡ØºÙÙŠÙÙ‘', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø© - Ø¢ÙŠØ© 256' },
    { text: 'Ø¥ÙÙ†ÙÙ‘ Ù±Ù„Ù„ÙÙ‘Ù‡Ù ÙŠÙØ­ÙØ¨ÙÙ‘ Ù±Ù„Û¡Ù…ÙØ­Û¡Ø³ÙÙ†ÙÙŠÙ†Ù', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø© - Ø¢ÙŠØ© 195' },
    { text: 'ÙˆÙÙ±Ø¨Û¡ØªÙØºÙ ÙÙÙŠÙ…ÙØ¢ Ø¡ÙØ§ØªÙÙ‰Ù°ÙƒÙ Ù±Ù„Ù„ÙÙ‘Ù‡Ù Ù±Ø§Ù„Ø¯ÙÙ‘Ø§Ø±Ù Ù±Ù„Û¡Ø£Ù“Ø®ÙØ±ÙØ©Ù', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ù‚ØµØµ - Ø¢ÙŠØ© 77' },
    { text: 'ÙˆÙÙ‚ÙØ§Ù„Ù Ø±ÙØ¨ÙÙ‘ÙƒÙÙ…Ù Ù±Ø¯Û¡Ø¹ÙÙˆÙ†ÙÙŠÙ“ Ø£ÙØ³Û¡ØªÙØ¬ÙØ¨Û¡ Ù„ÙÙƒÙÙ…Û¡', reference: 'Ø³ÙˆØ±Ø© ØºØ§ÙØ± - Ø¢ÙŠØ© 60' },
    { text: 'ÙÙÙ±ØµÛ¡Ø¨ÙØ±Û¡ Ø¥ÙÙ†ÙÙ‘ ÙˆÙØ¹Û¡Ø¯Ù Ù±Ù„Ù„ÙÙ‘Ù‡Ù Ø­ÙÙ‚Ù‘Ù', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø±ÙˆÙ… - Ø¢ÙŠØ© 60' },
    { text: 'Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ù„ÙØ§ Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ù‡ÙÙˆÙ Ø§Ù„Ù’Ø­ÙÙŠÙÙ‘ Ø§Ù„Ù’Ù‚ÙÙŠÙÙ‘ÙˆÙ…Ù Ù„ÙØ§ ØªÙØ£Ù’Ø®ÙØ°ÙÙ‡Ù Ø³ÙÙ†ÙØ©ÙŒ ÙˆÙÙ„ÙØ§ Ù†ÙÙˆÙ’Ù…ÙŒ', reference: 'Ø¢ÙŠØ© Ø§Ù„ÙƒØ±Ø³ÙŠ' },
    { text: 'Ø¢Ù…ÙÙ†Ù Ø§Ù„Ø±ÙÙ‘Ø³ÙÙˆÙ„Ù Ø¨ÙÙ…ÙØ§ Ø£ÙÙ†Ù’Ø²ÙÙ„Ù Ø¥ÙÙ„ÙÙŠÙ’Ù‡Ù Ù…ÙÙ†Ù’ Ø±ÙØ¨ÙÙ‘Ù‡Ù ÙˆÙØ§Ù„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†ÙÙˆÙ†Ù', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø© - Ø¢ÙŠØ© 285' },
    { text: 'Ù„ÙØ§ ÙŠÙÙƒÙÙ„ÙÙ‘ÙÙ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ù†ÙÙÙ’Ø³Ù‹Ø§ Ø¥ÙÙ„ÙÙ‘Ø§ ÙˆÙØ³Ù’Ø¹ÙÙ‡ÙØ§', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø© - Ø¢ÙŠØ© 286' },
    { text: 'ÙˆÙØ§ØµÙ’Ø¨ÙØ±Ù’ Ù„ÙØ­ÙÙƒÙ’Ù…Ù Ø±ÙØ¨ÙÙ‘ÙƒÙ ÙÙØ¥ÙÙ†ÙÙ‘ÙƒÙ Ø¨ÙØ£ÙØ¹Ù’ÙŠÙÙ†ÙÙ†ÙØ§', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø·ÙˆØ± - Ø¢ÙŠØ© 48' },
    { text: 'Ù‚ÙÙ„Ù’ Ù‡ÙÙˆÙ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø£ÙØ­ÙØ¯ÙŒ (1) Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„ØµÙÙ‘Ù…ÙØ¯Ù (2)', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø¥Ø®Ù„Ø§Øµ' },
    { text: 'Ø£ÙÙ„ÙØ§ Ø¨ÙØ°ÙÙƒÙ’Ø±Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù ØªÙØ·Ù’Ù…ÙØ¦ÙÙ†ÙÙ‘ Ø§Ù„Ù’Ù‚ÙÙ„ÙÙˆØ¨Ù', reference: 'Ø³ÙˆØ±Ø© Ø§Ù„Ø±Ø¹Ø¯ - Ø¢ÙŠØ© 28' },
    { text: 'Ø±ÙØ¨ÙÙ‘ Ø§Ø¬Ù’Ø¹ÙÙ„Ù’Ù†ÙÙŠ Ù…ÙÙ‚ÙÙŠÙ…Ù Ø§Ù„ØµÙÙ‘Ù„ÙØ§Ø©Ù ÙˆÙÙ…ÙÙ†Ù’ Ø°ÙØ±ÙÙ‘ÙŠÙÙ‘ØªÙÙŠ Ø±ÙØ¨ÙÙ‘Ù†ÙØ§ ÙˆÙØªÙÙ‚ÙØ¨ÙÙ‘Ù„Ù’ Ø¯ÙØ¹ÙØ§Ø¡Ù', reference: 'Ø³ÙˆØ±Ø© Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ… - Ø¢ÙŠØ© 40' }
];

const ADHKAR = [
    'Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø³Ø£Ù„Ùƒ Ø§Ù„Ø¹ÙÙˆ ÙˆØ§Ù„Ø¹Ø§ÙÙŠØ© ÙÙŠ Ø§Ù„Ø¯Ù†ÙŠØ§ ÙˆØ§Ù„Ø¢Ø®Ø±Ø©',
    'Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø¹ÙˆØ° Ø¨Ùƒ Ù…Ù† Ø§Ù„Ù‡Ù… ÙˆØ§Ù„Ø­Ø²Ù†ØŒ ÙˆØ£Ø¹ÙˆØ° Ø¨Ùƒ Ù…Ù† Ø§Ù„Ø¹Ø¬Ø² ÙˆØ§Ù„ÙƒØ³Ù„',
    'Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ ÙˆØ­Ø¯Ù‡ Ù„Ø§ Ø´Ø±ÙŠÙƒ Ù„Ù‡ØŒ Ù„Ù‡ Ø§Ù„Ù…Ù„Ùƒ ÙˆÙ„Ù‡ Ø§Ù„Ø­Ù…Ø¯ ÙˆÙ‡Ùˆ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡ Ù‚Ø¯ÙŠØ±',
    'Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡ØŒ Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ…',
    'Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡ ÙˆØ£ØªÙˆØ¨ Ø¥Ù„ÙŠÙ‡',
    'Ø§Ù„Ù„Ù‡Ù… ØµÙ„ ÙˆØ³Ù„Ù… Ø¹Ù„Ù‰ Ù†Ø¨ÙŠÙ†Ø§ Ù…Ø­Ù…Ø¯',
    'Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø³Ø£Ù„Ùƒ Ø§Ù„Ù‡Ø¯Ù‰ ÙˆØ§Ù„ØªÙ‚Ù‰ ÙˆØ§Ù„Ø¹ÙØ§Ù ÙˆØ§Ù„ØºÙ†Ù‰',
    'Ø±Ø¶ÙŠØª Ø¨Ø§Ù„Ù„Ù‡ Ø±Ø¨Ø§Ù‹ØŒ ÙˆØ¨Ø§Ù„Ø¥Ø³Ù„Ø§Ù… Ø¯ÙŠÙ†Ø§Ù‹ØŒ ÙˆØ¨Ù…Ø­Ù…Ø¯ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù… Ù†Ø¨ÙŠØ§Ù‹ ÙˆØ±Ø³ÙˆÙ„Ø§Ù‹',
    'Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø³Ø£Ù„Ùƒ Ø¹Ù„Ù…Ø§Ù‹ Ù†Ø§ÙØ¹Ø§Ù‹ØŒ ÙˆØ±Ø²Ù‚Ø§Ù‹ Ø·ÙŠØ¨Ø§Ù‹ØŒ ÙˆØ¹Ù…Ù„Ø§Ù‹ Ù…ØªÙ‚Ø¨Ù„Ø§Ù‹',
    'Ø­Ø³Ø¨ÙŠ Ø§Ù„Ù„Ù‡ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ù‡Ùˆ Ø¹Ù„ÙŠÙ‡ ØªÙˆÙƒÙ„Øª ÙˆÙ‡Ùˆ Ø±Ø¨ Ø§Ù„Ø¹Ø±Ø´ Ø§Ù„Ø¹Ø¸ÙŠÙ…',
    'Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø¹ÙˆØ° Ø¨Ùƒ Ù…Ù† Ø¬Ù‡Ø¯ Ø§Ù„Ø¨Ù„Ø§Ø¡ØŒ ÙˆØ¯Ø±Ùƒ Ø§Ù„Ø´Ù‚Ø§Ø¡ØŒ ÙˆØ³ÙˆØ¡ Ø§Ù„Ù‚Ø¶Ø§Ø¡ØŒ ÙˆØ´Ù…Ø§ØªØ© Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¡',
    'Ø§Ù„Ù„Ù‡Ù… Ø£ØµÙ„Ø­ Ù„ÙŠ Ø¯ÙŠÙ†ÙŠ Ø§Ù„Ø°ÙŠ Ù‡Ùˆ Ø¹ØµÙ…Ø© Ø£Ù…Ø±ÙŠØŒ ÙˆØ£ØµÙ„Ø­ Ù„ÙŠ Ø¯Ù†ÙŠØ§ÙŠ Ø§Ù„ØªÙŠ ÙÙŠÙ‡Ø§ Ù…Ø¹Ø§Ø´ÙŠ',
    'Ø§Ù„Ù„Ù‡Ù… Ø§Ø¬Ø¹Ù„Ù†ÙŠ Ù…Ù† Ø§Ù„Ø°Ø§ÙƒØ±ÙŠÙ† Ø§Ù„Ø´Ø§ÙƒØ±ÙŠÙ† Ø§Ù„ØµØ§Ø¨Ø±ÙŠÙ† Ø§Ù„Ù…Ø­ØªØ³Ø¨ÙŠÙ†',
    'Ø§Ù„Ù„Ù‡Ù… Ø§Ù‡Ø¯Ù†ÙŠ ÙÙŠÙ…Ù† Ù‡Ø¯ÙŠØªØŒ ÙˆØ¹Ø§ÙÙ†ÙŠ ÙÙŠÙ…Ù† Ø¹Ø§ÙÙŠØªØŒ ÙˆØªÙˆÙ„Ù†ÙŠ ÙÙŠÙ…Ù† ØªÙˆÙ„ÙŠØª',
    'Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø¹ÙˆØ° Ø¨Ùƒ Ù…Ù† Ø²ÙˆØ§Ù„ Ù†Ø¹Ù…ØªÙƒØŒ ÙˆØªØ­ÙˆÙ„ Ø¹Ø§ÙÙŠØªÙƒØŒ ÙˆÙØ¬Ø§Ø¡Ø© Ù†Ù‚Ù…ØªÙƒØŒ ÙˆØ¬Ù…ÙŠØ¹ Ø³Ø®Ø·Ùƒ',
    'Ø§Ù„Ù„Ù‡Ù… Ø§ØºÙØ± Ù„ÙŠ Ø°Ù†Ø¨ÙŠ ÙƒÙ„Ù‡ØŒ Ø¯Ù‚Ù‡ ÙˆØ¬Ù„Ù‡ØŒ ÙˆØ£ÙˆÙ„Ù‡ ÙˆØ¢Ø®Ø±Ù‡ØŒ ÙˆØ¹Ù„Ø§Ù†ÙŠØªÙ‡ ÙˆØ³Ø±Ù‡',
    'Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø³Ø£Ù„Ùƒ Ù…Ù† Ø§Ù„Ø®ÙŠØ± ÙƒÙ„Ù‡ Ø¹Ø§Ø¬Ù„Ù‡ ÙˆØ¢Ø¬Ù„Ù‡ØŒ Ù…Ø§ Ø¹Ù„Ù…Øª Ù…Ù†Ù‡ ÙˆÙ…Ø§ Ù„Ù… Ø£Ø¹Ù„Ù…',
    'Ø§Ù„Ù„Ù‡Ù… Ø·Ù‡Ø± Ù‚Ù„Ø¨ÙŠ Ù…Ù† Ø§Ù„Ù†ÙØ§Ù‚ØŒ ÙˆØ¹Ù…Ù„ÙŠ Ù…Ù† Ø§Ù„Ø±ÙŠØ§Ø¡ØŒ ÙˆÙ„Ø³Ø§Ù†ÙŠ Ù…Ù† Ø§Ù„ÙƒØ°Ø¨ØŒ ÙˆØ¹ÙŠÙ†ÙŠ Ù…Ù† Ø§Ù„Ø®ÙŠØ§Ù†Ø©',
    'Ø§Ù„Ù„Ù‡Ù… Ø§Ø±Ø²Ù‚Ù†ÙŠ Ø­Ø¨ÙƒØŒ ÙˆØ­Ø¨ Ù…Ù† ÙŠØ­Ø¨ÙƒØŒ ÙˆØ­Ø¨ Ø¹Ù…Ù„ ÙŠÙ‚Ø±Ø¨Ù†ÙŠ Ø¥Ù„Ù‰ Ø­Ø¨Ùƒ',
    'Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø¹ÙˆØ° Ø¨Ùƒ Ù…Ù† Ø´Ø± Ù…Ø§ Ø¹Ù…Ù„ØªØŒ ÙˆÙ…Ù† Ø´Ø± Ù…Ø§ Ù„Ù… Ø£Ø¹Ù…Ù„',
    'Ø§Ù„Ù„Ù‡Ù… Ø§Ø¬Ø¹Ù„ Ø®ÙŠØ± Ø£Ø¹Ù…Ø§Ù„Ù†Ø§ Ø®ÙˆØ§ØªÙ…Ù‡Ø§ØŒ ÙˆØ®ÙŠØ± Ø£Ø¹Ù…Ø§Ø±Ù†Ø§ Ø£ÙˆØ§Ø®Ø±Ù‡Ø§ØŒ ÙˆØ®ÙŠØ± Ø£ÙŠØ§Ù…Ù†Ø§ ÙŠÙˆÙ… Ù†Ù„Ù‚Ø§Ùƒ',
    'Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø³Ø£Ù„Ùƒ Ø­Ø³Ù† Ø§Ù„Ø®Ø§ØªÙ…Ø©ØŒ ÙˆØ£Ø¹ÙˆØ° Ø¨Ùƒ Ù…Ù† Ø³ÙˆØ¡ Ø§Ù„Ø®Ø§ØªÙ…Ø©',
    'Ø§Ù„Ù„Ù‡Ù… Ø§Ø¬Ø¹Ù„ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø±Ø¨ÙŠØ¹ Ù‚Ù„Ø¨ÙŠØŒ ÙˆÙ†ÙˆØ± ØµØ¯Ø±ÙŠØŒ ÙˆØ¬Ù„Ø§Ø¡ Ø­Ø²Ù†ÙŠØŒ ÙˆØ°Ù‡Ø§Ø¨ Ù‡Ù…ÙŠ',
    'Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø³Ø£Ù„Ùƒ Ø§Ù„Ø«Ø¨Ø§Øª ÙÙŠ Ø§Ù„Ø£Ù…Ø±ØŒ ÙˆØ§Ù„Ø¹Ø²ÙŠÙ…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø´Ø¯',
    'Ø§Ù„Ù„Ù‡Ù… Ø²Ø¯Ù†ÙŠ Ø¹Ù„Ù…Ø§Ù‹ØŒ ÙˆÙˆÙÙ‚Ù†ÙŠ Ù„Ù„Ø¹Ù…Ù„ Ø¨Ù‡ØŒ ÙˆØ§Ø±Ø²Ù‚Ù†ÙŠ Ø§Ù„Ø¥Ø®Ù„Ø§Øµ ÙÙŠÙ‡',
    'Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø³Ø£Ù„Ùƒ Ø§Ù„Ø¬Ù†Ø© ÙˆÙ…Ø§ Ù‚Ø±Ø¨ Ø¥Ù„ÙŠÙ‡Ø§ Ù…Ù† Ù‚ÙˆÙ„ Ø£Ùˆ Ø¹Ù…Ù„ØŒ ÙˆØ£Ø¹ÙˆØ° Ø¨Ùƒ Ù…Ù† Ø§Ù„Ù†Ø§Ø± ÙˆÙ…Ø§ Ù‚Ø±Ø¨ Ø¥Ù„ÙŠÙ‡Ø§ Ù…Ù† Ù‚ÙˆÙ„ Ø£Ùˆ Ø¹Ù…Ù„',
    'Ø§Ù„Ù„Ù‡Ù… Ø¢Øª Ù†ÙØ³ÙŠ ØªÙ‚ÙˆØ§Ù‡Ø§ØŒ ÙˆØ²ÙƒÙ‡Ø§ Ø£Ù†Øª Ø®ÙŠØ± Ù…Ù† Ø²ÙƒØ§Ù‡Ø§ØŒ Ø£Ù†Øª ÙˆÙ„ÙŠÙ‡Ø§ ÙˆÙ…ÙˆÙ„Ø§Ù‡Ø§',
    'Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø¹ÙˆØ° Ø¨Ùƒ Ù…Ù† Ø¹Ù„Ù… Ù„Ø§ ÙŠÙ†ÙØ¹ØŒ ÙˆÙ…Ù† Ù‚Ù„Ø¨ Ù„Ø§ ÙŠØ®Ø´Ø¹ØŒ ÙˆÙ…Ù† Ù†ÙØ³ Ù„Ø§ ØªØ´Ø¨Ø¹ØŒ ÙˆÙ…Ù† Ø¯Ø¹ÙˆØ© Ù„Ø§ ÙŠØ³ØªØ¬Ø§Ø¨ Ù„Ù‡Ø§',
    'Ø§Ù„Ù„Ù‡Ù… Ø¨Ø§Ø¹Ø¯ Ø¨ÙŠÙ†ÙŠ ÙˆØ¨ÙŠÙ† Ø®Ø·Ø§ÙŠØ§ÛŒ ÙƒÙ…Ø§ Ø¨Ø§Ø¹Ø¯Øª Ø¨ÙŠÙ† Ø§Ù„Ù…Ø´Ø±Ù‚ ÙˆØ§Ù„Ù…ØºØ±Ø¨',
    'Ø§Ù„Ù„Ù‡Ù… Ø§Ø¬Ø¹Ù„ ÙÙŠ Ù‚Ù„Ø¨ÙŠ Ù†ÙˆØ±Ø§Ù‹ØŒ ÙˆÙÙŠ Ø³Ù…Ø¹ÙŠ Ù†ÙˆØ±Ø§Ù‹ØŒ ÙˆÙÙŠ Ø¨ØµØ±ÙŠ Ù†ÙˆØ±Ø§Ù‹',
    'Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø³Ø£Ù„Ùƒ ÙØ¹Ù„ Ø§Ù„Ø®ÙŠØ±Ø§ØªØŒ ÙˆØªØ±Ùƒ Ø§Ù„Ù…Ù†ÙƒØ±Ø§ØªØŒ ÙˆØ­Ø¨ Ø§Ù„Ù…Ø³Ø§ÙƒÙŠÙ†',
    'Ø§Ù„Ù„Ù‡Ù… Ø§ÙƒÙÙ†ÙŠ Ø¨Ø­Ù„Ø§Ù„Ùƒ Ø¹Ù† Ø­Ø±Ø§Ù…ÙƒØŒ ÙˆØ£ØºÙ†Ù†ÙŠ Ø¨ÙØ¶Ù„Ùƒ Ø¹Ù…Ù† Ø³ÙˆØ§Ùƒ',
    'Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø³Ø£Ù„Ùƒ Ù…ÙˆØ¬Ø¨Ø§Øª Ø±Ø­Ù…ØªÙƒØŒ ÙˆØ¹Ø²Ø§Ø¦Ù… Ù…ØºÙØ±ØªÙƒØŒ Ø§Ù„Ø³Ù„Ø§Ù…Ø© Ù…Ù† ÙƒÙ„ Ø¥Ø«Ù…ØŒ ÙˆØ§Ù„ØºÙ†ÙŠÙ…Ø© Ù…Ù† ÙƒÙ„ Ø¨Ø±',
    'Ø§Ù„Ù„Ù‡Ù… Ù„Ø§ ØªØ¯Ø¹ Ù„Ù†Ø§ Ø°Ù†Ø¨Ø§Ù‹ Ø¥Ù„Ø§ ØºÙØ±ØªÙ‡ØŒ ÙˆÙ„Ø§ Ù‡Ù…Ø§Ù‹ Ø¥Ù„Ø§ ÙØ±Ø¬ØªÙ‡ØŒ ÙˆÙ„Ø§ Ø¯ÙŠÙ†Ø§Ù‹ Ø¥Ù„Ø§ Ù‚Ø¶ÙŠØªÙ‡',
    'Ø§Ù„Ù„Ù‡Ù… Ø£Ù„Ù Ø¨ÙŠÙ† Ù‚Ù„ÙˆØ¨Ù†Ø§ØŒ ÙˆØ£ØµÙ„Ø­ Ø°Ø§Øª Ø¨ÙŠÙ†Ù†Ø§ØŒ ÙˆØ§Ù‡Ø¯Ù†Ø§ Ø³Ø¨Ù„ Ø§Ù„Ø³Ù„Ø§Ù…',
    'Ø§Ù„Ù„Ù‡Ù… Ø¬Ù†Ø¨Ù†Ø§ Ø§Ù„Ø´ÙŠØ·Ø§Ù†ØŒ ÙˆØ¬Ù†Ø¨ Ø§Ù„Ø´ÙŠØ·Ø§Ù† Ù…Ø§ Ø±Ø²Ù‚ØªÙ†Ø§',
    'Ø§Ù„Ù„Ù‡Ù… Ø¹Ø§ÙÙ†ÙŠ ÙÙŠ Ø¨Ø¯Ù†ÙŠØŒ Ø§Ù„Ù„Ù‡Ù… Ø¹Ø§ÙÙ†ÙŠ ÙÙŠ Ø³Ù…Ø¹ÙŠØŒ Ø§Ù„Ù„Ù‡Ù… Ø¹Ø§ÙÙ†ÙŠ ÙÙŠ Ø¨ØµØ±ÙŠ',
    'Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø¹ÙˆØ° Ø¨Ùƒ Ù…Ù† Ø§Ù„ÙƒÙØ± ÙˆØ§Ù„ÙÙ‚Ø±ØŒ ÙˆØ£Ø¹ÙˆØ° Ø¨Ùƒ Ù…Ù† Ø¹Ø°Ø§Ø¨ Ø§Ù„Ù‚Ø¨Ø±',
    'Ø§Ù„Ù„Ù‡Ù… Ø±Ø¨ Ø§Ù„Ø³Ù…Ø§ÙˆØ§Øª ÙˆØ±Ø¨ Ø§Ù„Ø£Ø±Ø¶ ÙˆØ±Ø¨ Ø§Ù„Ø¹Ø±Ø´ Ø§Ù„Ø¹Ø¸ÙŠÙ…ØŒ Ø±Ø¨Ù†Ø§ ÙˆØ±Ø¨ ÙƒÙ„ Ø´ÙŠØ¡',
    'Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø³Ø£Ù„Ùƒ Ø±Ø¶Ø§Ùƒ ÙˆØ§Ù„Ø¬Ù†Ø©ØŒ ÙˆØ£Ø¹ÙˆØ° Ø¨Ùƒ Ù…Ù† Ø³Ø®Ø·Ùƒ ÙˆØ§Ù„Ù†Ø§Ø±',
    'Ø§Ù„Ù„Ù‡Ù… Ø§Ø¬Ø¹Ù„Ù†ÙŠ Ù…Ù…Ù† ÙŠØ³ØªÙ…Ø¹ÙˆÙ† Ø§Ù„Ù‚ÙˆÙ„ ÙÙŠØªØ¨Ø¹ÙˆÙ† Ø£Ø­Ø³Ù†Ù‡',
    'ÙŠØ§ Ø­ÙŠ ÙŠØ§ Ù‚ÙŠÙˆÙ… Ø¨Ø±Ø­Ù…ØªÙƒ Ø£Ø³ØªØºÙŠØ« Ø£ØµÙ„Ø­ Ù„ÙŠ Ø´Ø£Ù†ÙŠ ÙƒÙ„Ù‡ ÙˆÙ„Ø§ ØªÙƒÙ„Ù†ÙŠ Ø¥Ù„Ù‰ Ù†ÙØ³ÙŠ Ø·Ø±ÙØ© Ø¹ÙŠÙ†',
    'Ù‚Ø§Ù„ ï·º: "Ù…ÙÙ†Ù’ ØµÙÙ„ÙÙ‘Ù‰ Ø¹ÙÙ„ÙÙŠÙÙ‘ ØµÙÙ„ÙØ§Ø©Ù‹ ØµÙÙ„ÙÙ‘Ù‰ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø¹ÙÙ„ÙÙŠÙ’Ù‡Ù Ø¨ÙÙ‡ÙØ§ Ø¹ÙØ´Ù’Ø±Ù‹Ø§"',
    'Ù‚Ø§Ù„ ï·º: "Ø£ÙÙ‚Ù’Ø±ÙØ¨Ù Ù…Ø§ ÙŠÙÙƒÙˆÙ†Ù Ø§Ù„Ø¹ÙØ¨Ù’Ø¯Ù Ù…ÙÙ† Ø±ÙØ¨ÙÙ‘Ù‡Ù ÙˆÙ‡Ùˆ Ø³Ø§Ø¬ÙØ¯ÙŒØŒ ÙØ£ÙƒÙ’Ø«ÙØ±ÙÙˆØ§ Ø§Ù„Ø¯ÙÙ‘Ø¹Ø§Ø¡Ù"',
    'Ù‚Ø§Ù„ ï·º: "Ø®ÙÙŠÙ’Ø±ÙÙƒÙÙ…Ù’ Ù…ÙÙ†Ù’ ØªÙØ¹ÙÙ„ÙÙ‘Ù…Ù Ø§Ù„Ù’Ù‚ÙØ±Ù’Ø¢Ù†Ù ÙˆÙØ¹ÙÙ„ÙÙ‘Ù…ÙÙ‡Ù"',
    'Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ØŒ ÙˆØ§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ØŒ ÙˆÙ„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ØŒ ÙˆØ§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±',
    'Ù„Ø§ Ø­ÙˆÙ„ ÙˆÙ„Ø§ Ù‚ÙˆØ© Ø¥Ù„Ø§ Ø¨Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ù„ÙŠ Ø§Ù„Ø¹Ø¸ÙŠÙ…',
    'Ø§Ù„Ù„Ù‡Ù… ØµÙ„ Ø¹Ù„Ù‰ Ù…Ø­Ù…Ø¯ ÙˆØ¹Ù„Ù‰ Ø¢Ù„ Ù…Ø­Ù…Ø¯ ÙƒÙ…Ø§ ØµÙ„ÙŠØª Ø¹Ù„Ù‰ Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ… ÙˆØ¹Ù„Ù‰ Ø¢Ù„ Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…'
];

// Ù‚Ø±Ø§Ø¡Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ°ÙƒÙŠØ±
function readPrayerConfig() {
    try {
        if (fs.existsSync(PRAYER_CONFIG_PATH)) {
            const data = fs.readFileSync(PRAYER_CONFIG_PATH, 'utf8');
            return JSON.parse(data);
        }
        return { guilds: {} };
    } catch (error) {
        console.error('Ø®Ø·Ø£ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØµÙ„Ø§Ø©:', error);
        return { guilds: {} };
    }
}

// Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ°ÙƒÙŠØ±
function savePrayerConfig(config) {
    try {
        const dataDir = path.dirname(PRAYER_CONFIG_PATH);
        if (!fs.existsSync(dataDir)) {
            fs.mkdirSync(dataDir, { recursive: true });
        }
        fs.writeFileSync(PRAYER_CONFIG_PATH, JSON.stringify(config, null, 2));
        return true;
    } catch (error) {
        console.error('Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØµÙ„Ø§Ø©:', error);
        return false;
    }
}

// Ø­Ø³Ø§Ø¨ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© Ù„Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©
function getPrayerTimes() {
    // Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©
    const coordinates = new Coordinates(21.3891, 39.8579);

    // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© (Ø£Ù… Ø§Ù„Ù‚Ø±Ù‰)
    const params = CalculationMethod.UmmAlQura();

    // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø§Ù„ÙŠ ÙÙŠ ØªÙˆÙ‚ÙŠØª Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø© (Ù†ÙØ³ ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø±ÙŠØ§Ø¶)
    const today = moment().tz('Asia/Riyadh').toDate();

    // Ø­Ø³Ø§Ø¨ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø©
    const prayerTimes = new PrayerTimes(coordinates, today, params);

    return {
        fajr: moment(prayerTimes.fajr).tz('Asia/Riyadh'), // ØªÙˆÙ‚ÙŠØª Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©
        sunrise: moment(prayerTimes.sunrise).tz('Asia/Riyadh'),
        dhuhr: moment(prayerTimes.dhuhr).tz('Asia/Riyadh'),
        asr: moment(prayerTimes.asr).tz('Asia/Riyadh'),
        maghrib: moment(prayerTimes.maghrib).tz('Asia/Riyadh'),
        isha: moment(prayerTimes.isha).tz('Asia/Riyadh')
    };
}

// Ø¥Ø±Ø³Ø§Ù„ ØªØ°ÙƒÙŠØ± Ø§Ù„ØµÙ„Ø§Ø©
async function sendPrayerReminder(client, channelId, prayerName) {
    try {
        const channel = await client.channels.fetch(channelId).catch(() => null);
        if (!channel) return;

        const prayerTimes = getPrayerTimes();
        const currentTime = moment().tz('Asia/Riyadh');

        const embed = colorManager.createEmbed()
            .setTitle(`${PRAYER_NAMES[prayerName]}`)
            .setDescription(`**Ø­Ø§Ù† Ø§Ù„Ø¢Ù† ÙˆÙ‚Øª ØµÙ„Ø§Ø© ${PRAYER_NAMES[prayerName]}**\n\n**Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†Ø§ Ù†Ø³Ø£Ù„Ùƒ Ø§Ù„Ù‡Ø¯Ø§ÙŠØ© Ùˆ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„ØµÙ„Ø§Ø© Ùˆ Ø§Ù„Ø«Ø¨Ø§Øª ÙŠØ§Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠÙ†**`)
            .setThumbnail('https://cdn.discordapp.com/emojis/1303973825591115846.png?v=1')
            .addFields([
                { name: 'Ø§Ù„ØªØ§Ø±ÙŠØ®', value: currentTime.format('MM/DD/YYYY'), inline: true },
                { name: 'Ø§Ù„ÙˆÙ‚Øª', value: formatTimeArabic(currentTime), inline: true },
                { name: 'Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©', value: 'Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©', inline: true }
            ])
            .setFooter({ text: ' By Ahmed. - Ø­Ø§ÙØ¸ÙˆØ§ Ø¹Ù„Ù‰ ØµÙ„Ø§ØªÙƒÙ…' })
            .setTimestamp();

        await channel.send({ content: '@here', embeds: [embed] }).catch(() => {});
        console.log(`âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ ØªØ°ÙƒÙŠØ± ØµÙ„Ø§Ø© ${PRAYER_NAMES[prayerName]} ÙÙŠ Ø§Ù„Ù‚Ù†Ø§Ø© ${channelId}`);

    } catch (error) {
        console.error(`Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ ØªØ°ÙƒÙŠØ± ØµÙ„Ø§Ø© ${prayerName}:`, error);
    }
}

// ÙØ­Øµ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª
function checkPrayerTimes(client) {
    const config = readPrayerConfig();
    const currentTime = moment().tz('Asia/Riyadh');
    const prayerTimes = getPrayerTimes();

    // ÙØ­Øµ ÙƒÙ„ ØµÙ„Ø§Ø© Ù…Ù† Ø§Ù„ØµÙ„ÙˆØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
    for (const prayerName of REMINDER_PRAYERS) {
        const prayerTime = prayerTimes[prayerName];

        // Ø¥Ù†Ø´Ø§Ø¡ Ù…ÙØªØ§Ø­ ÙØ±ÙŠØ¯ Ù„ÙƒÙ„ ØµÙ„Ø§Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª
        const prayerKey = `${prayerName}_${prayerTime.format('YYYY-MM-DD_HH:mm')}`;

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ ÙŠØ·Ø§Ø¨Ù‚ ÙˆÙ‚Øª Ø§Ù„ØµÙ„Ø§Ø© (ÙÙŠ Ù†ÙØ³ Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø©)
        const timeDiff = currentTime.diff(prayerTime, 'minutes');

        if (timeDiff >= 0 && timeDiff < 1 && !lastReminderSent[prayerKey]) {
            console.log(`â° Ø­Ø§Ù† ÙˆÙ‚Øª ØµÙ„Ø§Ø© ${PRAYER_NAMES[prayerName]} - ${formatTimeArabic(prayerTime)}`);

            lastReminderSent[prayerKey] = true;

            // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ°ÙƒÙŠØ± Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®ÙˆØ§Ø¯Ù… Ø§Ù„Ù…ÙØ¹Ù„Ø©
            for (const [guildId, guildConfig] of Object.entries(config.guilds)) {
                if (guildConfig.enabled && guildConfig.channelId) {
                    const guild = client.guilds.cache.get(guildId);
                    if (!guild) continue;
                    
                    const channel = guild.channels.cache.get(guildConfig.channelId);
                    if (!channel) continue;
                    
                    sendPrayerReminder(client, guildConfig.channelId, prayerName);
                }
            }

            // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù…ÙØ§ØªÙŠØ­ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
            setTimeout(() => {
                const keys = Object.keys(lastReminderSent);
                if (keys.length > 100) {
                    const oldKeys = keys.slice(0, 50);
                    oldKeys.forEach(key => delete lastReminderSent[key]);
                }
            }, 3600000);
        }
    }
}

// Ø¥Ø±Ø³Ø§Ù„ Ø¢ÙŠØ© Ø£Ùˆ Ø¯Ø¹Ø§Ø¡
async function sendVerseOrAdhkar(client, channelId) {
    try {
        const channel = await client.channels.fetch(channelId).catch(() => null);
        if (!channel) return;

        // Ø§Ø®ØªÙŠØ§Ø± Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ø¨ÙŠÙ† Ø¢ÙŠØ© Ø£Ùˆ Ø¯Ø¹Ø§Ø¡
        const isVerse = Math.random() > 0.5;

        if (isVerse) {
            // Ø¥Ø±Ø³Ø§Ù„ Ø¢ÙŠØ©
            const verse = QURAN_VERSES[Math.floor(Math.random() * QURAN_VERSES.length)];
            const embed = colorManager.createEmbed()
                .setTitle('ğŸ“– Ø¢ÙŠØ© Ù‚Ø±Ø¢Ù†ÙŠØ©')
                .setDescription(`**${verse.text}**`)
                .setFooter({ text: verse.reference })
                .setTimestamp();

            await channel.send({ content: '@here', embeds: [embed] }).catch(() => {});
            console.log(`âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¢ÙŠØ© Ù‚Ø±Ø¢Ù†ÙŠØ© ÙÙŠ Ø§Ù„Ù‚Ù†Ø§Ø© ${channelId}`);
        } else {
            // Ø¥Ø±Ø³Ø§Ù„ Ø¯Ø¹Ø§Ø¡
            const adhkar = ADHKAR[Math.floor(Math.random() * ADHKAR.length)];
            const embed = colorManager.createEmbed()
                .setTitle('ğŸ¤² Ø¯Ø¹Ø§Ø¡ / Ø°ÙƒØ±')
                .setDescription(`**${adhkar}**`)
                .setFooter({ text: 'Ø§Ù„Ø¯Ø¹Ø§Ø¡ ÙˆØ§Ù„Ø°ÙƒØ± Ø­ÙŠØ§Ø© Ù„Ù„Ù‚Ù„ÙˆØ¨' })
                .setTimestamp();

            await channel.send({ content: '@here', embeds: [embed] }).catch(() => {});
            console.log(`âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¯Ø¹Ø§Ø¡ ÙÙŠ Ø§Ù„Ù‚Ù†Ø§Ø© ${channelId}`);
        }

    } catch (error) {
        console.error(`Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø¢ÙŠØ©/Ø¯Ø¹Ø§Ø¡:`, error);
    }
}

// ÙØ­Øµ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¢ÙŠØ§Øª ÙˆØ§Ù„Ø£Ø¯Ø¹ÙŠØ©
function checkAndSendVerses(client) {
    const config = readPrayerConfig();

    // Ø¥Ø±Ø³Ø§Ù„ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®ÙˆØ§Ø¯Ù… Ø§Ù„Ù…ÙØ¹Ù„Ø©
    for (const [guildId, guildConfig] of Object.entries(config.guilds)) {
        if (guildConfig.enabled && guildConfig.channelId) {
            sendVerseOrAdhkar(client, guildConfig.channelId);
        }
    }
}

// Ø¨Ø¯Ø¡ Ù†Ø¸Ø§Ù… ÙØ­Øµ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø©
function startPrayerReminderSystem(client) {
    console.log('ğŸ•Œ Ø¨Ø¯Ø¡ Ù†Ø¸Ø§Ù… ØªØ°ÙƒÙŠØ± Ø§Ù„ØµÙ„Ø§Ø©...');

    // ÙØ­Øµ ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©
    setInterval(() => {
        try {
            checkPrayerTimes(client);
        } catch (error) {
            console.error('Ø®Ø·Ø£ ÙÙŠ ÙØ­Øµ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø©:', error);
        }
    }, 60000);

    // Ø¥Ø±Ø³Ø§Ù„ Ø¢ÙŠØ© Ø£Ùˆ Ø¯Ø¹Ø§Ø¡ ÙÙˆØ±Ø§Ù‹ Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„
    setTimeout(() => {
        try {
            checkAndSendVerses(client);
            console.log('âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¢ÙŠØ©/Ø¯Ø¹Ø§Ø¡ ÙÙˆØ±Ø§Ù‹ Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„Ù†Ø¸Ø§Ù…');
        } catch (error) {
            console.error('Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¢ÙŠØ©/Ø§Ù„Ø¯Ø¹Ø§Ø¡ Ø§Ù„Ø£ÙˆÙ„ÙŠ:', error);
        }
    }, 5000);

    // Ø¥Ø±Ø³Ø§Ù„ Ø¢ÙŠØ© Ø£Ùˆ Ø¯Ø¹Ø§Ø¡ ÙƒÙ„ Ø³Ø§Ø¹ØªÙŠÙ†
    setInterval(() => {
        try {
            checkAndSendVerses(client);
        } catch (error) {
            console.error('Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¢ÙŠØ§Øª ÙˆØ§Ù„Ø£Ø¯Ø¹ÙŠØ©:', error);
        }
    }, 2 * 60 * 60 * 1000);

    console.log('âœ… ØªÙ… ØªØ´ØºÙŠÙ„ Ù†Ø¸Ø§Ù… ØªØ°ÙƒÙŠØ± Ø§Ù„ØµÙ„Ø§Ø© Ø¨Ù†Ø¬Ø§Ø­');
    console.log('âœ… ØªÙ… ØªØ´ØºÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„Ø¢ÙŠØ§Øª ÙˆØ§Ù„Ø£Ø¯Ø¹ÙŠØ© (ÙƒÙ„ Ø³Ø§Ø¹ØªÙŠÙ† + Ø¥Ø±Ø³Ø§Ù„ ÙÙˆØ±ÙŠ)');
}

// ØªØ­ÙˆÙŠÙ„ Ø§Ù„ÙˆÙ‚Øª Ø¥Ù„Ù‰ ØªÙ†Ø³ÙŠÙ‚ 12 Ø³Ø§Ø¹Ø© Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
function formatTimeArabic(momentTime) {
    const hour = momentTime.hour();
    const minute = momentTime.minute();
    const period = hour < 12 ? 'ØµØ¨Ø§Ø­Ø§Ù‹' : 'Ù…Ø³Ø§Ø¡Ø§Ù‹';
    const hour12 = hour === 0 ? 12 : (hour > 12 ? hour - 12 : hour);

    return `${hour12}:${minute.toString().padStart(2, '0')} ${period}`;
}

// Ø¹Ø±Ø¶ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
function showTodayPrayerTimes() {
    const prayerTimes = getPrayerTimes();
    const currentTime = moment().tz('Asia/Riyadh');

    const embed = colorManager.createEmbed()
        .setTitle('Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© Ø§Ù„ÙŠÙˆÙ… - Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©')
        .setDescription(`**Ø§Ù„ØªØ§Ø±ÙŠØ®:** ${currentTime.format('MM/DD/YYYY')}\n**Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ:** ${formatTimeArabic(currentTime)}`)
        .addFields([
            { name: 'Ø§Ù„ÙØ¬Ø±', value: formatTimeArabic(prayerTimes.fajr), inline: true },
            { name: 'Ø§Ù„Ø´Ø±ÙˆÙ‚', value: formatTimeArabic(prayerTimes.sunrise), inline: true },
            { name: 'Ø§Ù„Ø¸Ù‡Ø±', value: formatTimeArabic(prayerTimes.dhuhr), inline: true },
            { name: 'Ø§Ù„Ø¹ØµØ±', value: formatTimeArabic(prayerTimes.asr), inline: true },
            { name: 'Ø§Ù„Ù…ØºØ±Ø¨', value: formatTimeArabic(prayerTimes.maghrib), inline: true },
            { name: 'Ø§Ù„Ø¹Ø´Ø§Ø¡', value: formatTimeArabic(prayerTimes.isha), inline: true }
        ])
        .setThumbnail('https://cdn.discordapp.com/attachments/1373799493111386243/1400677612304470086/images__5_-removebg-preview.png?ex=688d822e&is=688c30ae&hm=1ea7a63bb89b38bcd76c0f5668984d7fc919214096a3d3ee92f5d948497fcb51&')
        .setFooter({ text: 'Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© Ø­Ø³Ø¨ ØªÙˆÙ‚ÙŠØª Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©' })
        .setTimestamp();

    return embed;
}

async function execute(message, args, { client, BOT_OWNERS }) {
    if (isUserBlocked(message.author.id)) {
        const blockedEmbed = colorManager.createEmbed()
            .setDescription('**ğŸš« Ø£Ù†Øª Ù…Ø­Ø¸ÙˆØ± Ù…Ù† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø¨ÙˆØª**\n**Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø±ØŒ ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³ÙŠØ±ÙØ±**')
            .setThumbnail(client.user.displayAvatarURL({ format: 'png', size: 128 }));

        await message.channel.send({ embeds: [blockedEmbed] });
        return;
    }

    const isOwner = BOT_OWNERS.includes(message.author.id) || (message.guild && message.guild.ownerId === message.author.id);
    if (!isOwner) {
        await message.react('âŒ').catch(() => {});
        return;
    }

    const subCommand = args[0]?.toLowerCase();

    if (subCommand === 'setup' || !subCommand) {
        await message.channel.send('**ğŸ•Œ Ù…Ù†Ø´Ù† Ø§Ù„Ø±ÙˆÙ… Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ Ø¥Ø±Ø³Ø§Ù„ ØªØ°ÙƒÙŠØ±Ø§Øª Ø§Ù„ØµÙ„Ø§Ø© ÙÙŠÙ‡ :**');

        const filter = m => m.author.id === message.author.id;
        const collector = message.channel.createMessageCollector({ filter, time: 30000, max: 1 });

        collector.on('collect', async m => {
            const channel = m.mentions.channels.first();
            if (!channel) {
                return m.reply('**âŒ Ù„Ù… ØªÙ‚Ù… Ø¨Ù…Ù†Ø´Ù† Ø§Ù„Ø±ÙˆÙ… Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­!**');
            }

            const config = readPrayerConfig();
            config.guilds[message.guild.id] = {
                enabled: true,
                channelId: channel.id
            };
            savePrayerConfig(config);

            await m.reply(`**âœ… ØªÙ… ØªÙØ¹ÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙ„Ø§Ø© ÙÙŠ Ø±ÙˆÙ…: ${channel}**`);
        });
    } else if (subCommand === 'off') {
        const config = readPrayerConfig();
        if (message.guild && config.guilds[message.guild.id]) {
            config.guilds[message.guild.id].enabled = false;
            savePrayerConfig(config);
            await message.reply('**ğŸ”´ ØªÙ… ØªØ¹Ø·ÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙ„Ø§Ø© ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø³ÙŠØ±ÙØ±.**');
        } else {
            await message.reply('**âš ï¸ Ø§Ù„Ù†Ø¸Ø§Ù… ØºÙŠØ± Ù…ÙØ¹Ù„ Ø£ØµÙ„Ø§Ù‹ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø³ÙŠØ±ÙØ±.**');
        }
    } else if (subCommand === 'times') {
        await message.channel.send({ embeds: [showTodayPrayerTimes()] });
    }
}

module.exports = {
    name,
    execute,
    startPrayerReminderSystem
};
